{"version":3,"sources":["components/Button.js","components/Persons.js","services/persons.js","components/PersonForm.js","components/Filter.js","components/SuccessNotification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Button","props","onClick","handleClick","text","Person","person","removeHandler","name","number","console","log","Persons","persons","map","key","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","addNewPerson","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","value","onChange","target","type","Filter","nameFilter","SuccessNotification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorNotification","App","setPersons","setNameFilter","successNotification","setSuccessNotification","errorNotification","setErrorNotification","namesToShow","filter","toLowerCase","includes","useEffect","personService","showSuccessMessage","setTimeout","showErrorMessage","existentPerson","find","p","window","confirm","new_person","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1f43de7e.chunk.js","sourcesContent":["import React, {useState} from \"react\";\n\nconst Button = (props) => (\n  <button onClick={props.handleClick}>\n    {props.text}\n  </button>\n)\n\nexport default Button","import React from \"react\";\nimport Button from \"./Button\";\n\nconst Person = ({person, removeHandler}) => {\n\n    return (\n        <div>{person.name} {person.number}\n        <Button text=\"delete\"\n                handleClick={() => {\n                   console.log(\"clicked\")\n                   removeHandler(person)\n               }}/>\n        </div>\n    )\n}\n\nconst Persons = ({persons, removeHandler}) => {\n    return (\n        <>\n            {persons.map(person =>\n                <Person key={person.name} person={person} removeHandler={removeHandler}/>\n            )}\n        </>\n    )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React, {useState} from \"react\";\nimport personService from \"../services/persons\";\n\n\nconst PersonForm = ({persons, addNewPerson}) => {\n\n     const [ newName, setNewName ] = useState('')\n     const [ newNumber, setNewNumber ] = useState('')\n\n    const addName = (event) => {\n        event.preventDefault()\n\n        const person = {\n            name: newName,\n            number: newNumber\n        }\n\n        addNewPerson(person)\n        setNewName('')\n        setNewNumber('')\n    }\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    return (\n        <form onSubmit={addName}>\n            <div>\n                name: <input value={newName} onChange={handleNameChange}/>\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={handleNumberChange}/>\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from \"react\";\n\nconst Filter = ({nameFilter, onChange}) => {\n    return (\n        <div>\n            filter shown with: <input value={nameFilter} onChange={onChange}/>\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst SuccessNotification = ({ message }) => {\n    const style = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    }\n\n    if (message === '') {\n        return null\n    }\n\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default SuccessNotification","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n    const style = {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    }\n\n    if (message === '') {\n        return null\n    }\n\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\"\nimport Filter from \"./components/Filter\";\nimport personService from \"./services/persons\";\nimport SuccessNotification from \"./components/SuccessNotification\";\nimport ErrorNotification from \"./components/ErrorNotification\";\n\nconst App = () => {\n    const [ persons, setPersons ] = useState([])\n    const [ nameFilter, setNameFilter ] = useState('')\n\n    const [ successNotification, setSuccessNotification] = useState('')\n    const [ errorNotification, setErrorNotification] = useState('')\n\n    const namesToShow = persons.filter(person => person.name.toLowerCase().includes(nameFilter.toLowerCase()))\n\n    useEffect(() => {\n        console.log('effect')\n        personService\n            .getAll()\n            .then(persons => {\n                console.log('promise fulfilled')\n                setPersons(persons)\n            })\n    }, [])\n\n    const handleFilterChange = (event) => {\n        setNameFilter(event.target.value)\n    }\n\n    const showSuccessMessage = (message) => {\n        setSuccessNotification(message)\n        setTimeout(() => {\n            setSuccessNotification('')\n        }, 5000)\n    }\n\n    const showErrorMessage = (message) => {\n        setErrorNotification(message)\n        setTimeout(() => {\n            setErrorNotification('')\n        }, 5000)\n    }\n\n    const addNewPerson = (person) => {\n        const existentPerson = persons.find(p => p.name === person.name)\n        if(existentPerson)\n        {\n            if(window.confirm(`${person.name} is already added to the phonebook, replace the old number with a new one?`))\n            {\n                personService.update(existentPerson.id, person).then(new_person => {\n                    setPersons(persons.map(p => p.id !== new_person.id ? p : new_person))\n                    showSuccessMessage(`Updated '${person.name}'`)\n                })\n                .catch(error => {\n                    showErrorMessage(`${error.response.data.error}`)\n                })\n            }\n        }\n        else\n        {\n            personService\n                .create(person)\n                .then(person => {\n                    setPersons(persons.concat(person))\n                    showSuccessMessage(`Added '${person.name}'`)\n                })\n                .catch(error => {\n                    showErrorMessage(`${error.response.data.error}`)\n                })\n        }\n    }\n\n    const removePerson = (person) => {\n        if (window.confirm(`Delete ${person.name} ?`))\n        {\n            personService.remove(person.id)\n                .then(() => {\n                    setPersons(persons.filter(p => p.id !== person.id))\n                    showSuccessMessage(`Removed ${person.name}`)\n                })\n                .catch(() => {\n                    showErrorMessage(`Information of ${person.name} has already been removed from server`)\n                })\n        }\n    }\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <SuccessNotification message={successNotification}/>\n            <ErrorNotification message={errorNotification}/>\n            <Filter nameFilter={nameFilter} onChange={handleFilterChange}/>\n            <h3>add a new</h3>\n            <PersonForm persons={persons} addNewPerson={addNewPerson}/>\n            <h3>Numbers</h3>\n            <Persons persons={namesToShow} removeHandler={removePerson}/>\n        </div>\n    )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}