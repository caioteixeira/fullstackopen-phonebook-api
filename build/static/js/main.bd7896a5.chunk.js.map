{"version":3,"sources":["components/Button.js","components/Persons.js","services/persons.js","components/PersonForm.js","components/Filter.js","components/SuccessNotification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Button","props","onClick","handleClick","text","Person","person","removeHandler","name","number","console","log","Persons","persons","map","key","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","addNewPerson","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","value","onChange","target","type","Filter","nameFilter","SuccessNotification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorNotification","App","setPersons","setNameFilter","successNotification","setSuccessNotification","errorNotification","setErrorNotification","namesToShow","filter","toLowerCase","includes","useEffect","personService","showSuccessMessage","setTimeout","existentPerson","find","p","window","confirm","new_person","concat","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bd7896a5.chunk.js","sourcesContent":["import React, {useState} from \"react\";\r\n\r\nconst Button = (props) => (\r\n  <button onClick={props.handleClick}>\r\n    {props.text}\r\n  </button>\r\n)\r\n\r\nexport default Button","import React from \"react\";\r\nimport Button from \"./Button\";\r\n\r\nconst Person = ({person, removeHandler}) => {\r\n\r\n    return (\r\n        <div>{person.name} {person.number}\r\n        <Button text=\"delete\"\r\n                handleClick={() => {\r\n                   console.log(\"clicked\")\r\n                   removeHandler(person)\r\n               }}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Persons = ({persons, removeHandler}) => {\r\n    return (\r\n        <>\r\n            {persons.map(person =>\r\n                <Person key={person.name} person={person} removeHandler={removeHandler}/>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, {useState} from \"react\";\r\nimport personService from \"../services/persons\";\r\n\r\n\r\nconst PersonForm = ({persons, addNewPerson}) => {\r\n\r\n     const [ newName, setNewName ] = useState('')\r\n     const [ newNumber, setNewNumber ] = useState('')\r\n\r\n    const addName = (event) => {\r\n        event.preventDefault()\r\n\r\n        const person = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        addNewPerson(person)\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div>\r\n                name: <input value={newName} onChange={handleNameChange}/>\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from \"react\";\r\n\r\nconst Filter = ({nameFilter, onChange}) => {\r\n    return (\r\n        <div>\r\n            filter shown with: <input value={nameFilter} onChange={onChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst SuccessNotification = ({ message }) => {\r\n    const style = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n    if (message === '') {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div style={style}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SuccessNotification","import React from 'react'\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n    const style = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n    if (message === '') {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div style={style}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\r\nimport Persons from \"./components/Persons\";\r\nimport PersonForm from \"./components/PersonForm\"\r\nimport Filter from \"./components/Filter\";\r\nimport personService from \"./services/persons\";\r\nimport SuccessNotification from \"./components/SuccessNotification\";\r\nimport ErrorNotification from \"./components/ErrorNotification\";\r\n\r\nconst App = () => {\r\n    const [ persons, setPersons ] = useState([])\r\n    const [ nameFilter, setNameFilter ] = useState('')\r\n\r\n    const [ successNotification, setSuccessNotification] = useState('')\r\n    const [ errorNotification, setErrorNotification] = useState('')\r\n\r\n    const namesToShow = persons.filter(person => person.name.toLowerCase().includes(nameFilter.toLowerCase()))\r\n\r\n    useEffect(() => {\r\n        console.log('effect')\r\n        personService\r\n            .getAll()\r\n            .then(persons => {\r\n                console.log('promise fulfilled')\r\n                setPersons(persons)\r\n            })\r\n    }, [])\r\n\r\n    const handleFilterChange = (event) => {\r\n        setNameFilter(event.target.value)\r\n    }\r\n\r\n    const showSuccessMessage = (message) => {\r\n        setSuccessNotification(message)\r\n        setTimeout(() => {\r\n            setSuccessNotification('')\r\n        }, 5000)\r\n    }\r\n\r\n    const showErrorMessage = (message) => {\r\n        setErrorNotification(message)\r\n        setTimeout(() => {\r\n            setErrorNotification('')\r\n        }, 5000)\r\n    }\r\n\r\n    const addNewPerson = (person) => {\r\n        const existentPerson = persons.find(p => p.name === person.name)\r\n        if(existentPerson)\r\n        {\r\n            if(window.confirm(`${person.name} is already added to the phonebook, replace the old number with a new one?`))\r\n            {\r\n                personService.update(existentPerson.id, person).then(new_person => {\r\n                    setPersons(persons.map(p => p.id !== new_person.id ? p : new_person))\r\n                    showSuccessMessage(`Updated '${person.name}'`)\r\n                })\r\n            }\r\n        }\r\n        else\r\n        {\r\n            personService.create(person).then(person => {\r\n                setPersons(persons.concat(person))\r\n                showSuccessMessage(`Added '${person.name}'`)\r\n            })\r\n        }\r\n    }\r\n\r\n    const removePerson = (person) => {\r\n        if (window.confirm(`Delete ${person.name} ?`))\r\n        {\r\n            personService.remove(person.id)\r\n                .then(() => {\r\n                    setPersons(persons.filter(p => p.id !== person.id))\r\n                    showSuccessMessage(`Removed ${person.name}`)\r\n                })\r\n                .catch(() => {\r\n                    showErrorMessage(`Information of ${person.name} has already been removed from server`)\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <SuccessNotification message={successNotification}/>\r\n            <ErrorNotification message={errorNotification}/>\r\n            <Filter nameFilter={nameFilter} onChange={handleFilterChange}/>\r\n            <h3>add a new</h3>\r\n            <PersonForm persons={persons} addNewPerson={addNewPerson}/>\r\n            <h3>Numbers</h3>\r\n            <Persons persons={namesToShow} removeHandler={removePerson}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from \"./App\"\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}